<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modulario Leads Dashboard 2.0</title>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #475569;
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --hover-border: #93c5fd;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Inter', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            line-height: 1.5;
        }

        /* Header */
        header {
            background: var(--card-bg);
            padding: 1.25rem 2rem;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .brand {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: -0.5px;
        }

        .search-box {
            position: relative;
            flex-grow: 1;
            max-width: 450px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.2s;
            background-color: #f1f5f9;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            background-color: #fff;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        .stats {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 600;
            background: #f1f5f9;
            padding: 6px 12px;
            border-radius: 6px;
        }

        /* Main Grid */
        main {
            padding: 2rem;
            max-width: 1600px;
            margin: 0 auto;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 1.5rem;
        }

        /* Card Style */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 1.5rem;
            transition: all 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: pointer; /* Indikuje klikateƒænos≈• */
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.1);
            border-color: var(--hover-border);
        }

        .card:hover::after {
            content: "‚Üó Otvori≈• web";
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.75rem;
            background: var(--primary);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            opacity: 0.9;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .company-name {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-main);
            line-height: 1.2;
            margin-bottom: 4px;
        }

        .company-loc {
            font-size: 0.85rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .badge {
            font-size: 0.7rem;
            padding: 4px 10px;
            border-radius: 99px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .badge.vyroba { background: #dbeafe; color: #1e40af; }
        .badge.logistika { background: #ffedd5; color: #9a3412; }
        .badge.stavebnictvo { background: #dcfce7; color: #166534; }
        .badge.obchod { background: #f3e8ff; color: #6b21a8; }
        .badge.sluzby { background: #f1f5f9; color: #475569; }

        .data-row {
            display: flex;
            gap: 15px;
            margin-bottom: 1rem;
            font-size: 0.85rem;
            color: var(--text-muted);
            border-bottom: 1px solid #f1f5f9;
            padding-bottom: 10px;
        }

        .data-item strong {
            color: var(--text-main);
            font-weight: 600;
        }

        .section-title {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: var(--text-muted);
            font-weight: 700;
            margin-bottom: 0.5rem;
            margin-top: 0.5rem;
        }

        .pain-points {
            background: #fffbeb;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.9rem;
            color: #92400e;
            border-left: 3px solid #f59e0b;
            line-height: 1.4;
            margin-bottom: 1rem;
        }

        .contact-box {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
            position: relative;
            z-index: 2; /* Aby boli tlaƒçidl√° nad clickable kartou */
        }

        .person {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 8px;
            color: var(--text-main);
        }

        .action-row {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .contact-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 6px 0;
            color: var(--primary);
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
        }

        .contact-btn:hover {
            color: #1d4ed8;
        }

        .copy-btn {
            background: #e2e8f0;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 600;
            transition: background 0.2s;
        }

        .copy-btn:hover {
            background: var(--primary);
            color: white;
        }

        /* Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #1e293b;
            color: #fff;
            text-align: center;
            border-radius: 8px;
            padding: 12px;
            position: fixed;
            z-index: 101;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }

        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }

        @media (max-width: 600px) {
            .grid { grid-template-columns: 1fr; }
            header { flex-direction: column; align-items: stretch; }
            .search-box { max-width: 100%; }
        }
    </style>
</head>
<body>

<header>
    <div class="brand">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
        Modulario Leads
    </div>
    <div class="search-box">
        <span class="search-icon">üîç</span>
        <input type="text" id="searchInput" placeholder="Hƒæada≈• firmu, IƒåO, mesto...">
    </div>
    <div class="stats" id="statsCount">Naƒç√≠tavam...</div>
</header>

<main>
    <div id="companyGrid" class="grid"></div>
</main>

<div id="toast">‚úÖ Email skop√≠rovan√Ω do schr√°nky!</div>

<script>
    /* D√ÅTA FIRIEM 
       Doplnen√© o IƒåO, Web a presnej≈°ie form√°ty.
    */
    const companies = [
        { name: "L√°nik.sk s.r.o.", ico: "36475710", web: "https://www.lanik.sk", city: "Pre≈°ov", segment: "V√Ωroba", turnover: "2,3 mil. ‚Ç¨", pain: "F√∫zia firiem (zl√∫ƒçenie s BHZ Steel), potreba zjednotenia syst√©mov.", contact: "Daniel L√°nik", email: "info@lanik.sk", phone: "+421 910 974 664" },
        { name: "LUMARKT s.r.o.", ico: "36210082", web: "https://www.lumarkt.sk", city: "Ko≈°ice", segment: "Logistika", turnover: "8,5 mil. ‚Ç¨", pain: "Z√°sobovanie re≈•azcov (Tesco, Lidl), tlak na presnos≈• a EDI.", contact: "Daniel Luƒçkaniƒç", email: "store@lumarkt.sk", phone: "+421 55 798 28 11" },
        { name: "MK TRANS Pre≈°ov", ico: "36491952", web: "https://www.mktrans.sk", city: "Pre≈°ov", segment: "Logistika", turnover: "950 tis. ‚Ç¨", pain: "Du√°lny biznis (doprava + √∫ƒçtovn√≠ctvo), sledovanie vozov√©ho parku.", contact: "Viera Kom√°rov√°", email: "mktrans@mktrans.sk", phone: "0911 277 491" },
        { name: "HEDAN PLUS", ico: "44366914", web: "https://www.hedanplus.sk", city: "Trebi≈°ov", segment: "V√Ωroba", turnover: "1,8 mil. ‚Ç¨", pain: "R√Ωchly n√°rast produkcie, administrat√≠va nest√≠ha v√Ωrobe.", contact: "Ing. Robert Doha≈ào≈°", email: "office@hedanplus.sk", phone: "Viƒè ORSR" },
        { name: "SANY STAV", ico: "46830308", web: "https://www.sanystav.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "3,1 mil. ‚Ç¨", pain: "Evidencia doch√°dzky na stavb√°ch, spotreba materi√°lu.", contact: "Vedenie", email: "info@sanystav.sk", phone: "+421 915 961 032" },
        { name: "IPS Logistics", ico: "46067710", web: "https://www.ipslogistics.sk", city: "Ko≈°ice", segment: "Logistika", turnover: "7,4 mil. ‚Ç¨", pain: "Veƒæk√Ω obrat, tis√≠ce fakt√∫r, potreba workflow na schvaƒæovanie.", contact: "JUDr. Peter Parajos", email: "peter.parajos@ipslogistics.sk", phone: "+421 903 461 204" },
        { name: "Promont, s.r.o.", ico: "31732641", web: "https://www.promont.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "4,2 mil. ‚Ç¨", pain: "Synchroniz√°cia v√Ωroby v hale s mont√°≈æou na stavbe.", contact: "Ing. Miloslav Tabi≈°", email: "milos@promont.sk", phone: "+421 905 623 554" },
        { name: "ISCC s.r.o.", ico: "44264666", web: "https://www.iscc.sk", city: "Ko≈°ice", segment: "Logistika", turnover: "2,5 mil. ‚Ç¨", pain: "Certifik√°cie ISO/GMP+ vy≈æaduj√∫ prec√≠znu evidenciu.", contact: "Ing. Juraj ≈†tanga", email: "stanga@iscc.sk", phone: "+421 949 580 516" },
        { name: "Laminum SK", ico: "36592236", web: "https://www.laminum.sk", city: "Ko≈°ice", segment: "V√Ωroba", turnover: "1,5 mil. ‚Ç¨", pain: "Z√°kazkov√° v√Ωroba, tis√≠ce variantov, pl√°novanie kapacity.", contact: "Roland Fed√°k", email: "fedak@laminum.sk", phone: "+421 918 697 783" },
        { name: "GENERAL s.r.o.", ico: "36465463", web: "https://www.generalsro.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "4,8 mil. ‚Ç¨", pain: "Gener√°lny dod√°vateƒæ h√°l, koordin√°cia subdod√°vateƒæov.", contact: "Ing. Peter Jankul√°k", email: "general@generalsro.sk", phone: "Web formul√°r" },
        { name: "AutoComLine", ico: "36737528", web: "https://www.autocomline.sk", city: "Michalovce", segment: "Logistika", turnover: "2,1 mil. ‚Ç¨", pain: "Vlastn√° flotila, sledovanie servisu, STK a di√©t vodiƒçov.", contact: "Lenka Czetoov√°", email: "autocomline@gmail.com", phone: "+421 915 991 535" },
        { name: "STI, spol. s r.o.", ico: "31697226", web: "https://www.sti.sk", city: "Krompachy", segment: "Stavebn√≠ctvo", turnover: "3,5 mil. ‚Ç¨", pain: "Tunely a injekt√°≈æe ‚Äì obrovsk√© mno≈æstvo v√Ωkazov a noriem.", contact: "Vedenie", email: "sti@sti.sk", phone: "053/445 10 30" },
        { name: "Slowaker", ico: "36589332", web: "https://www.slowaker.com", city: "Trebi≈°ov", segment: "Logistika", turnover: "2,2 mil. ‚Ç¨", pain: "Potreba CRM na spr√°vu z√°kazn√≠kov a hist√≥rie komunik√°cie.", contact: "Dispeƒçing", email: "info@slowaker.com", phone: "0948 139 610" },
        { name: "Novicom", ico: "36594247", web: "https://www.novicom.sk", city: "Slivn√≠k", segment: "Stavebn√≠ctvo", turnover: "1,9 mil. ‚Ç¨", pain: "Pren√°jom strojov, evidencia motohod√≠n a vy≈•a≈æenosti.", contact: "Ing. Radovan Nov√°k", email: "novicom@novicom.sk", phone: "056/66 85 305" },
        { name: "SLER, s. r. o.", ico: "36453881", web: "https://www.sler.sk", city: "Pre≈°ov", segment: "V√Ωroba", turnover: "1,3 mil. ‚Ç¨", pain: "CNC obr√°banie, potreba presn√Ωch kalkul√°ci√≠ n√°kladov.", contact: "Rastislav ≈†ƒçavnick√Ω", email: "sler@sler.sk", phone: "+421 905 515 922" },
        { name: "AWU Precision", ico: "31713531", web: "https://www.awu.sk", city: "Z√°borsk√©", segment: "V√Ωroba", turnover: "9,2 mil. ‚Ç¨", pain: "Vysok√° presnos≈•, n√°roky na QC a v√Ωstupn√∫ kontrolu.", contact: "Sekretari√°t", email: "awu@awu.sk", phone: "+421 51 772 26 50" },
        { name: "SOLIT√âRA", ico: "36577881", web: "https://www.solitera.sk", city: "Smi≈æany", segment: "Slu≈æby", turnover: "1,6 mil. ‚Ç¨", pain: "Developer, evidencia z√°ujemcov, zml√∫v a zmien.", contact: "Vedenie", email: "info@solitera.sk", phone: "0903 945 704" },
        { name: "MIKOSPOL", ico: "36463991", web: "https://www.mikospol.sk", city: "Pre≈°ov", segment: "Slu≈æby", turnover: "850 tis. ‚Ç¨", pain: "Stavebn√Ω dozor, pr√°ca v ter√©ne, fotodokument√°cia.", contact: "Ing. Milan Kojnok", email: "mikospol@mikospol.sk", phone: "+421 905 256 088" },
        { name: "ƒåECH, s.r.o.", ico: "31720881", web: "https://www.cechsro.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "1,8 mil. ‚Ç¨", pain: "Pamiatky, reporty pre √∫rady, ≈°pecifick√© materi√°ly.", contact: "Ing. ƒΩubom√≠r ƒåech", email: "cech@cechsro.sk", phone: "+421 51 77 11 893" },
        { name: "Domont", ico: "36495346", web: "https://www.domont.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "600 tis. ‚Ç¨", pain: "Mal√© z√°kazky, chaos v pl√°novan√≠ term√≠nov mont√°≈ænikov.", contact: "Konateƒæ", email: "domont@domont.sk", phone: "0905 966 619" },
        { name: "ATEX-OK", ico: "36488358", web: "https://www.atex-ok.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "800 tis. ‚Ç¨", pain: "Remeseln√© pr√°ce, potreba n√°stroja na v√Ωkazy pr√°ce.", contact: "Vedenie", email: "atex-ok@atex-ok.sk", phone: "0905 326 360" },
        { name: "PREMETAL MON", ico: "31709666", web: "https://www.premetal.sk", city: "Pre≈°ov", segment: "V√Ωroba", turnover: "3,6 mil. ‚Ç¨", pain: "Mont√°≈æ technol√≥gi√≠, servisn√© v√Ωjazdy a √∫dr≈æba.", contact: "Vedenie", email: "premetal@premetal.sk", phone: "+421 51 771 44 88" },
        { name: "ELZIN", ico: "31727974", web: "https://www.elzin.sk", city: "Pre≈°ov", segment: "V√Ωroba", turnover: "1,4 mil. ‚Ç¨", pain: "Galvanizov≈àa, sledovanie dielov klientov vo vaniach.", contact: "Ing. Jozef ≈†toffa", email: "elzin@elzin.sk", phone: "+421 905 352 949" },
        { name: "ZANTEO STAV", ico: "47453303", web: "https://www.stavebnepracepresov.sk", city: "Pre≈°ov", segment: "Stavebn√≠ctvo", turnover: "1,1 mil. ‚Ç¨", pain: "V√Ωstavba domov, ƒçast√© zmeny po≈æiadaviek (viacpr√°ce).", contact: "Marek Seman", email: "info@stavebnepracepresov.sk", phone: "+421 944 116 353" },
        { name: "Sanas a.s.", ico: "36462740", web: "https://www.sanas.sk", city: "Sabinov", segment: "V√Ωroba", turnover: "12,5 mil. ‚Ç¨", pain: "Veƒæk√Ω hr√°ƒç, mo≈æn√© diery v procesoch (reklam√°cie).", contact: "Ing. Jaroslav Nemec", email: "jaroslav.nemec@sanas.sk", phone: "+421 915 753 050" }
    ];

    const grid = document.getElementById('companyGrid');
    const searchInput = document.getElementById('searchInput');
    const statsCount = document.getElementById('statsCount');
    const toast = document.getElementById('toast');

    // Helper funkcia na z√≠skanie triedy pre segment
    function getSegmentClass(segment) {
        const seg = segment.toLowerCase();
        if (seg.includes('v√Ωroba')) return 'vyroba';
        if (seg.includes('logistika') || seg.includes('doprava')) return 'logistika';
        if (seg.includes('staveb')) return 'stavebnictvo';
        if (seg.includes('obchod')) return 'obchod';
        return 'sluzby';
    }

    // Renderovanie kariet
    function renderCards(filterText = '') {
        grid.innerHTML = '';
        const lowerFilter = filterText.toLowerCase();

        const filtered = companies.filter(c => 
            c.name.toLowerCase().includes(lowerFilter) || 
            c.segment.toLowerCase().includes(lowerFilter) ||
            c.city.toLowerCase().includes(lowerFilter) ||
            c.ico.includes(lowerFilter)
        );

        statsCount.textContent = `N√°jden√Ωch: ${filtered.length} firiem`;

        filtered.forEach(company => {
            const card = document.createElement('div');
            card.className = 'card';
            
            // Logika pre kliknutie na cel√∫ kartu - otvor√≠ WEB
            card.onclick = function(e) {
                // Ak sme klikli na tlaƒçidlo alebo odkaz vo vn√∫tri, neotv√°raj web
                if(e.target.closest('button') || e.target.closest('a')) return;
                window.open(company.web, '_blank');
            };

            card.innerHTML = `
                <div>
                    <div class="card-header">
                        <div>
                            <div class="company-name">${company.name}</div>
                            <div class="company-loc">üìç ${company.city}</div>
                        </div>
                        <span class="badge ${getSegmentClass(company.segment)}">${company.segment}</span>
                    </div>
                    
                    <div class="data-row">
                        <div class="data-item">
                            ID: <strong>${company.ico}</strong>
                        </div>
                        <div class="data-item">
                            Obrat: <strong>${company.turnover}</strong>
                        </div>
                    </div>
                    
                    <div class="section-title">Indik√°tor probl√©mu</div>
                    <div class="pain-points">
                        "${company.pain}"
                    </div>
                </div>

                <div class="contact-box">
                    <div class="person">üë§ ${company.contact}</div>
                    
                    <div class="action-row">
                        <div class="contact-btn" onclick="copyEmail(event, '${company.email}')">
                            <span>‚úâÔ∏è ${company.email}</span>
                            <button class="copy-btn">Kop√≠rova≈•</button>
                        </div>
                        
                        <a href="tel:${company.phone.replace(/\s/g, '')}" class="contact-btn" onclick="event.stopPropagation()">
                            <span>üìû ${company.phone}</span>
                        </a>
                    </div>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    // Funkcia na kop√≠rovanie emailu (zastav√≠ otvorenie webu cez stopPropagation)
    window.copyEmail = function(event, email) {
        event.stopPropagation(); // Zabr√°ni otvoreniu webstr√°nky
        if (email && email.includes('@')) {
            navigator.clipboard.writeText(email).then(() => {
                showToast();
            });
        }
    }

    // Toast notifik√°cia
    function showToast() {
        toast.className = "show";
        setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
    }

    // Event listener pre vyhƒæad√°vanie
    searchInput.addEventListener('input', (e) => {
        renderCards(e.target.value);
    });

    // Initial render
    renderCards();
</script>

</body>
</html>
